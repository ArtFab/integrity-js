"use strict";var __spreadArrays=this&&this.__spreadArrays||function(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;for(var t=Array(r),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,i++)t[i]=o[a];return t},Integrity=function(){function i(){}return i.check=function(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];i.checkIsBool(r),r||i._raiseError(new Error(i._msg("Integrity test failed",e)),i.check)},i.fail=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];i._raiseError(new Error(i._msg("Integrity test failed",r)),i.check)},i.checkIsBool=function(r){for(var e,n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];"boolean"!=typeof r&&(e="",e=0==n.length?i._defaultMessage("boolean",r):i._msg("",n),void 0===r&&i._raiseError(new ReferenceError(e),i.checkIsBool),null===r&&i._raiseError(new TypeError(e),i.checkIsBool),i._raiseError(new TypeError(e),i.checkIsBool))},i.checkIsBoolOrNull=function(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];null!=r&&i.checkIsBool.apply(i,__spreadArrays([r],e))},i.checkNotNull=function(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];void 0===r?i._raiseError(new ReferenceError(i._msg("Integrity test failed: Undefined encountered",e)),this.checkNotNull):null===r&&i._raiseError(new TypeError(i._msg("Integrity test failed: Null encountered",e)),this.checkNotNull)},i.checkIsValidNumber=function(r){for(var e,n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];"number"==typeof r&&isFinite(r)||(e="",e=0==n.length?i._defaultMessage("number",r):i._msg("",n),void 0===r&&i._raiseError(new ReferenceError(e),i.checkIsValidNumber),i._raiseError(new TypeError(e),i.checkIsValidNumber))},i.checkIsValidNumberOrNull=function(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];null!=r&&i.checkIsValidNumber.apply(i,__spreadArrays([r],e))},i.checkIsString=function(r){for(var e,n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];"string"!=typeof r&&(e="",e=0==n.length?i._defaultMessage("string",r):i._msg("",n),void 0===r&&i._raiseError(new ReferenceError(e),i.checkIsString),i._raiseError(new TypeError(e),i.checkIsString))},i.checkIsStringOrNull=function(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];null!=r&&i.checkIsString.apply(i,__spreadArrays([r],e))},i.checkStringNotNullOrEmpty=function(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];i.checkIsString.apply(i,__spreadArrays([r],e)),""===r&&i._raiseError(new Error(i._msg("Empty string",e)),i.checkStringNotNullOrEmpty)},i.checkIsFunction=function(r){for(var e,n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];"function"!=typeof r&&(e="",e=0==n.length?i._defaultMessage("function",r):i._msg("",n),void 0===r&&i._raiseError(new ReferenceError(e),i.checkIsFunction),i._raiseError(new TypeError(e),i.checkIsFunction))},i.checkIsFunctionOrNull=function(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];null!=r&&i.checkIsFunction.apply(i,__spreadArrays([r],e))},i.getDeferredString=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return i._msg("",r)},i._prettyType=function(r){return null===r?"null":r!=r?"NaN":void 0===r?"undefined":r==Number.POSITIVE_INFINITY?"+Infinity":r==Number.NEGATIVE_INFINITY?"-Infinity":Array.isArray(r)?"Array":typeof r},i._raiseError=function(r,e){throw Error.captureStackTrace&&Error.captureStackTrace(r,e),r},i._msg=function(r,e){return e&&0!=e.length?i._expandMessageArray.apply(i,e):r},i._expandMessageArray=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(0==arguments.length)return"Integrity test failed";try{var n=i._stringValue(arguments[0]);if(1<arguments.length)for(var t=1;t<arguments.length;t++)-1==n.indexOf("{}")?n+=", "+i._stringValue(arguments[t],!0):n=n.replace("{}",""+i._stringValue(arguments[t]));return n}catch(r){return arguments[0]+" << exception while replacing parameters >>"}},i._stringValue=function(r,e){void 0===e&&(e=!1);var n="";"[object Object]"==(n=r==Number.POSITIVE_INFINITY?"+Infinity":r==Number.NEGATIVE_INFINITY?"-Infinity":Array.isArray(r)?JSON.stringify(r):""+r)&&(n=JSON.stringify(r));r=e&&"string"==typeof r;return n.length>i.stringTruncationLimit?(n=n.substring(0,i.stringTruncationLimit),r&&(n="'"+n+"'"),n+="..."):r?"'"+n+"'":n},i._defaultMessage=function(r,e){var n=i._stringValue(e,!0),e=i._prettyType(e),r="Expected "+r+", but was "+e;return e.toUpperCase()!=n.toUpperCase()&&(r+=", value was "+n),r},i.stringTruncationLimit=30,i.VERSION="1.3.7",i}();